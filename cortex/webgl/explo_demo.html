{% autoescape None %}
{% extends demo.html %}
{% block jsinit %}
    var viewer, subjects, datasets, figure, sock, viewopts;
{% end %}
{% block extrahtml %}
	<div id="display_cover">
  	<div id="swipe_right" class="swipe_helper">
  		<img src="resources/explo_demo/swipe_right.svg" /> 
  		Twirl left for intro
  	</div>
  	<div id="swipe_left" class="swipe_helper">
  		<img src="resources/explo_demo/swipe_left.svg" /> 
  		Twirl right <span id="swipe_left_text">to continue</span>
  	</div>
    <div id="gestures">
      <p>Explore the brain activity of someone watching this video</p>
      <img id="gesture_1" />
      <img id="gesture_2" />
      <p id="gesture_name">Rotate</p>
    </div>
    <div id="intro_frame">
    </div>
  </div>
  <div id="attribution">
    <p> pycortex software by James Gao</p>
    <p> Introduction by Natalia Bilenko</p>
    <p> Instruction graphics by Helene Moorman</p>
    <p> Decoding by Natalia Bilenko, Valkyrie Savage, &amp; Shinji Nishimoto</p>
    <p> Localizer data by Mark Lescroart</p>
    <p>Funding support from NEI-EY019684 &amp; NSF-0939370 grant awards to Jack Gallant, University of California at Berkeley. </p>
  </div>

<script type="text/javascript" src="resources/explo_demo/intro.js"></script>

{% end %}
{% block onload %}
		viewopts = {
			voxlines: {{voxlines}},
			voxline_width: {{voxline_width}},
			default_2Dcmap: "RdBu_covar",
		};
		
	    subjects = {{subjects}};
		for (var name in subjects) {
			subjects[name] = new mriview.Surface(subjects[name]);
		}

		figure = new jsplot.W2Figure();
		viewer = figure.add(mriview.Viewer, "main", true);

		dataviews = dataset.fromJSON({{data}});
		viewer.addData(dataviews);

{% end %}